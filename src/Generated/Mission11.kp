#line 1 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\SinglePlayer\\Mission11.kas"



#line 1 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\SinglePlayer\\..\\\\Game\\\\speechevent.h"






















































































































































































































































































































































































































































































































							




































































































































































													
													

													
													































































































































































































































												




































































































































































































































































#line 5 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\SinglePlayer\\Mission11.kas"
#line 1 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\SinglePlayer\\..\\\\Game\\\\soundmusic.h"













































































#line 6 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\SinglePlayer\\Mission11.kas"
#line 1 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\Game\\attributes.h"









































#line 43 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\Game\\attributes.h"

#line 7 "C:\\Users\\Coldboy\\ClionProjects\\homeworld_cmake\\src\\SinglePlayer\\Mission11.kas"


    LOCALIZATION 

            LSTRING_Savegame
                "11 - Tenhauser Gate"
                "11 - Porte de Tenhauser"
                "11 - Tenhauser-Tor"
                "11 - Puerta de Tannhauser"
				"11 - Il Portale di Tenhauser"

            LSTRING_LocationCard
                "TENHAUSER GATE"
                "PORTE DE TENHAUSER"
                "TENHAUSER-TOR"
                "PUERTA DE TANNHAUSER"
				"IL PORTALE DI TENHAUSER"

            LSTRING_FIDestroyTaiidanTASKBAR
                "Destroy the Taiidan fleet"
                "Destruction flotte Taiidan"
                "Die Taiidan-Flotte vernichten."
                "Destruir la flota taiidana"
				"Distruggi la flotta dei Taiidan"

            LSTRING_FIDestroyKushanTASKBAR
                "Destroy the Kushan fleet"
                "Destruction flotte Kushan"
                "Die Kushan-Flotte vernichten."
                "Destruir la flota kushana"
				"Distruggi la flotta dei Kushan"

            LSTRING_Hyperspace
                "                      HYPERSPACE"
                "                      HYPERESPACE"
                "           HYPERRAUMSPRUNG"
                "                    HIPERESPACIO"
				"					IPERSPAZIO"

    ENDL 






FSM FleetIntel
        States FCIntro,

               FIDefendTraders,

               FIResearchSuperHeavy,

               TradersThanks, TradersFirstWarning, FICeaseFire, TradersTellPlayer, TradersPlayN08,

               TradersCouncilComin,

               FIEngageHyperdrive,

               FIIdle;

        INIT
                Jump FIIdle;                                        
        ENDINIT
        WATCH
        ENDWATCH


        STATE FCIntro 
            INIT
                    SpeechEvent ( (632 + 2048 + 268435456), 0);       
                    
                    
                    
            ENDINIT
            WATCH
                    
                    IF (IntelEventEnded ())
                            VarCreateSet ("G_FCDoneRasping", TRUE);
                            Jump FIIdle;
                    ENDIF
            ENDWATCH
        ENDSTATE FCIntro 









        STATE FIDefendTraders 
            INIT
                    IF (RaceOfHuman () = 0)                                             
                            SpeechEvent ((633 + 4096 + 268435456), 0);              
                            
                            
                    ELSEIF (RaceOfHuman () = 1)                                         
                            SpeechEvent ( (634 + 4096 + 268435456), 0);            
                            
                            
                    ENDIF
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            IFONCE (TRUE)
                                    VarCreateSet ("G_CreateObjectiveNow", TRUE);
                            ENDIFONCE
                            VarDestroy ("G_CLICK_DestroyFleet");
                            Jump FIIdle;
                    ENDIF
            ENDWATCH
        ENDSTATE FIDefendTraders 












        STATE FIResearchSuperHeavy 
            INIT
                    SpeechEvent ((782 + 4096 + 268435456), 0);            
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            Jump FIIdle;
                    ENDIF
            ENDWATCH
        ENDSTATE FIResearchSuperHeavy 








        STATE TradersThanks 
            INIT
                    SpeechEvent ((635 + 8192 + 268435456), 0);                  
                    
                    
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            IFONCE (TRUE)
                                    VarCreateSet ("G_PlayN08Now", TRUE);
                            ENDIFONCE
                            Jump FIIdle;
                    ENDIF
            ENDWATCH
        ENDSTATE TradersThanks 

        STATE TradersFirstWarning 
            INIT
                    SpeechEvent ((494 + 8192 + 268435456), 0);      
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            Jump FICeaseFire;
                    ENDIF
            ENDWATCH
        ENDSTATE TradersFirstWarning 

        STATE FICeaseFire 
            INIT
                    SpeechEvent ((495 + 4096 + 268435456), 0);           
                    TimerCreateSetStart ("G_GivePlayerTimeToWithdrawAttack", 12);
            ENDINIT
            WATCH
                    IF ( (VarGet ("G_PlayerHasAttackedTraders") = FALSE) AND (TimerExpiredDestroy ("G_GivePlayerTimeToWithdrawAttack")) )
                            Jump FIIdle;
                    ENDIF

                    IF ( (VarGet ("G_PlayerHasAttackedTraders") = TRUE) AND (TimerExpiredDestroy ("G_GivePlayerTimeToWithdrawAttack")) )
                            Jump TradersTellPlayer;
                    ENDIF
            ENDWATCH
        ENDSTATE FICeaseFire 

        STATE TradersTellPlayer 
            INIT
                    SpeechEvent ((496 + 8192 + 268435456), 0);           
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            VarCreateSet ("G_TradersObliteratePlayer", TRUE);
                    ENDIF
            ENDWATCH
        ENDSTATE TradersTellPlayer 

        STATE TradersPlayN08 
            INIT
                    VarCreateSet ("G_PlayNis", 8);
                    VarCreateSet ("G_N08IsPlaying", TRUE);
                    HideShips (TEAMSHIPS_Traders);
                    Jump FIIdle;
            ENDINIT
            WATCH
            ENDWATCH
        ENDSTATE TradersPlayN08 











        STATE TradersCouncilComin 
            INIT
                    SpeechEvent ((646 + 8192 + 268435456), 0);                    
                    
                    
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            IFONCE (TRUE)
                                    VarCreateSet ("G_TradersGoNow", TRUE);
                                    TimerCreateSetStart ("PlayFinalEvent", 12);
                            ENDIFONCE
                            Jump FIIdle;
                    ENDIF
            ENDWATCH
        ENDSTATE TradersCouncilComin 











        STATE FIEngageHyperdrive 
            INIT
                    SpeechEvent ((647 + 4096 + 268435456), 0);                    
                    
                    
                    IFONCE (TRUE)
                            VarCreateSet ("G_MissionComplete", TRUE);
                    ENDIFONCE
            ENDINIT
            WATCH
                    IF (IntelEventEnded ())
                            Jump FIIdle;
                    ENDIF
            ENDWATCH
        ENDSTATE FIEngageHyperdrive 













        STATE FIIdle 
            INIT
            ENDINIT
            WATCH
                    

                    
                    IFONCE (TimerExpiredDestroy ("G_FCHyperspaceSuccessful"))
                            Jump FCIntro;
                    ENDIFONCE

                    
                    IFONCE (TimerExpiredDestroy ("G_FIDefendTraders"))
                            Jump FIDefendTraders;
                    ENDIFONCE

                    
                    IFONCE ( (VarGet ("G_GivePlayerSuperHeavy") = TRUE) AND (VarGet ("G_N07IsPlaying") = FALSE) AND (VarGet ("G_N08IsPlaying") = FALSE) )
                            Jump FIResearchSuperHeavy;
                    ENDIFONCE

                    
                    IFONCE (VarGet ("G_TradersInPosition") = TRUE)
                            Jump TradersThanks;
                    ENDIFONCE

                    
                    IF (VarGet ("G_PlayerHasAttackedTraders") = TRUE)
                            Jump TradersFirstWarning;
                    ENDIF

                    
                    IFONCE (VarGet ("G_PlayN08Now") = TRUE)
                            TimerCreateSetStart ("WideScreenInBeforeNIS2", 3);
                            wideScreenIn(90);                                   
                            VarCreateSet("G_PlayedN08", TRUE);
                    ENDIFONCE

                    
                    IF (TimerExpiredDestroy("WideScreenInBeforeNIS2"))
                            Jump TradersPlayN08;
                    ENDIF

                    
                    IFONCE (TimerExpiredDestroy ("G_TradersTalk"))
                            
                            Jump TradersCouncilComin;
                    ENDIFONCE

                    
                    IFONCE (TimerExpiredDestroy ("PlayFinalEvent"))
                            Jump FIEngageHyperdrive;
                    ENDIFONCE





                    

                    
                    IF (VarGet ("G_CLICK_DestroyFleet"))
                            Jump FIDefendTraders;
                    ENDIF

            ENDWATCH
        ENDSTATE FIIdle 


ENDFSM FleetIntel













  FSM Traders
    States Flounder, FlyUpToPlayer, UnderAttackWatch, TradersObliteratePlayer, WaitToHyperspace, HyperspaceOut, NullState;

  INIT
            TeamAttributesSet(0x0100);
          TeamHealthSet (43);                                     
            TraderGUIDisable (TRUE);
            TeamMakeCrazy (TRUE);
          Jump Flounder;
  ENDINIT
  WATCH
            IFONCE (VarGet ("G_Nis7Complete") = TRUE)
                    TeamHealthSet (33);
            ENDIFONCE

            
            IFONCE (TeamHealthAverage () < 25)
                    TimerCreateSetStart ("KeepTraderShipAlive", 90);
            ENDIFONCE
            IF ( (TeamHealthAverage () < 25) AND (TimerRemaining ("KeepTraderShipAlive") > 0) )
                    TeamHealthSet (25);
            ENDIF

            
            
            IFONCE (VarGet ("G_N08IsPlaying") = TRUE)
                    VarCreateSet ("CurrentTraderHealth", TeamHealthAverage ());
                    VarCreateSet ("KeepBentusiAliveForever", TRUE);
            ENDIFONCE

            
            IF (VarGet ("KeepBentusiAliveForever") = TRUE)
                    TeamHealthSet (VarGet ("CurrentTraderHealth"));
            ENDIF
  ENDWATCH


  STATE Flounder 
      INIT                                                        
                TeamMakeCrazy (TRUE);
      ENDINIT
      WATCH
                IF (NOT UnderAttack (SHIPS_Null929292))
                        TeamMakeCrazy (FALSE);
                ENDIF
                IF (ObjectiveGet ("DestroyFleet") = TRUE)
                        TeamMakeCrazy (FALSE);
                        Jump FlyUpToPlayer;
                ENDIF
      ENDWATCH
  ENDSTATE Flounder 


  STATE FlyUpToPlayer 
      INIT
                PatrolPath (PATH_TraderPath);
      ENDINIT
      WATCH
                IFONCE (PathNextPoint () = 0)
                        VarCreateSet ("G_TradersInPosition", TRUE);
                        Jump WaitToHyperspace;
                ENDIFONCE

                
                IF (UnderAttack (SHIPS_Null87238923))
                        VarCreateSet ("G_PlayerHasAttackedTraders", TRUE);
                        Jump UnderAttackWatch;
                ENDIF
      ENDWATCH
  ENDSTATE FlyUpToPlayer 


    STATE UnderAttackWatch 
        INIT
        ENDINIT
        WATCH
                IF (VarGet ("G_TradersObliteratePlayer") = TRUE)
                        Jump TradersObliteratePlayer;
                ENDIF

                IF (NOT UnderAttack (SHIPS_Null8723487238))
                        VarDestroy ("G_PlayerHasAttackedTraders");
                        IF (VarGet ("G_TradersInPosition") = TRUE)
                                Jump WaitToHyperspace;
                        ELSE
                                Jump FlyUpToPlayer;
                        ENDIF
                ENDIF

        ENDWATCH
    ENDSTATE UnderAttackWatch 


    STATE TradersObliteratePlayer 
        INIT
                VarCreateSet ("CurrentTraderHealth", TeamHealthAverage ());

                FindEnemiesInside (VOLUME_MothershipSphere, SHIPS_PlayerFleet, 1000);
                IF (ShipsSelectClass (SHIPS_TraderTargets, SHIPS_PlayerFleet, "CLASS_Destroyer"))
                ELSEIF (ShipsSelectClass (SHIPS_TraderTargets, SHIPS_PlayerFleet, "CLASS_Frigate"))
                ELSEIF (ShipsSelectClass (SHIPS_TraderTargets, SHIPS_PlayerFleet, "CLASS_Mothership"))
                ELSE
                        ShipsAdd (SHIPS_TraderTargets, SHIPS_PlayerFleet);
                ENDIF

                IF (ShipsCount (SHIPS_TraderTargets) > 0)
                        Attack (SHIPS_TraderTargets);
                ENDIF
        ENDINIT
        WATCH
                
                TeamHealthSet (VarGet ("CurrentTraderHealth"));

                
                IF ( (ShipsCount (SHIPS_TraderTargets) = 0) OR (ShipsOrder (TEAMSHIPS_Traders) != 2) )
                        Jump TradersObliteratePlayer;
                ENDIF

        ENDWATCH
    ENDSTATE TradersObliteratePlayer 


  STATE WaitToHyperspace 
      INIT
      ENDINIT
      WATCH
                
                IF (UnderAttack (SHIPS_Null87238923))
                        VarCreateSet ("G_PlayerHasAttackedTraders", TRUE);
                        Jump UnderAttackWatch;
                ENDIF

                IF (VarGet ("G_TradersGoNow") =TRUE)
                        Jump HyperspaceOut;
                ENDIF
      ENDWATCH
  ENDSTATE WaitToHyperspace 


  STATE HyperspaceOut 
      INIT
                TeamHyperspaceOut ();
                Jump NullState;
      ENDINIT
      WATCH
      ENDWATCH
  ENDSTATE HyperspaceOut 


  STATE NullState 
      INIT
      ENDINIT
      WATCH
      ENDWATCH
  ENDSTATE NullState 




ENDFSM Traders








  FSM Cruiser
    States AttackTraders, DefendYourself, AttackPlayerMothership, NullState;

  INIT
          Jump AttackTraders;
  ENDINIT
  WATCH
            IFONCE (ObjectiveGet ("DestroyFleet") = TRUE)
                    Jump NullState;
            ENDIFONCE
  ENDWATCH


  STATE AttackTraders 
      INIT
                MoveAttack (TEAMSHIPS_Traders);
                
                
      ENDINIT
      WATCH
                
                IF (ThisTeamIs (TEAM_Cruiser))
                        IF (UnderAttack (SHIPS_CruiserUnderAttack))
                                ShipsSelectClass (SHIPS_Mothership, SHIPS_CruiserUnderAttack, "CLASS_Mothership");       
                                ShipsRemove (SHIPS_CruiserUnderAttack, SHIPS_Mothership);                                
                                IF (ShipsCount (SHIPS_CruiserUnderAttack) > 0)
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_Destroyers))
                        IF (UnderAttack (SHIPS_DestroyersUnderAttack))
                                ShipsSelectClass (SHIPS_Mothership, SHIPS_DestroyersUnderAttack, "CLASS_Mothership");       
                                ShipsRemove (SHIPS_DestroyersUnderAttack, SHIPS_Mothership);                                
                                IF (ShipsCount (SHIPS_DestroyersUnderAttack) > 0)
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                        IF (UnderAttack (SHIPS_IonFrigUnderAttack))
                                ShipsSelectClass (SHIPS_Mothership, SHIPS_IonFrigUnderAttack, "CLASS_Mothership");       
                                ShipsRemove (SHIPS_IonFrigUnderAttack, SHIPS_Mothership);                                
                                IF (ShipsCount (SHIPS_IonFrigUnderAttack) > 0)
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ENDIF

                
                IF (ThisTeamIs (TEAM_Cruiser))
                        IF (FindEnemiesNearTeam (SHIPS_CruiserL00kingForSCs, 15000))
                                ShipsSelectType (SHIPS_CruiserFoundSomeSCs, SHIPS_CruiserL00kingForSCs, "SalCapCorvette");
                                IF ( (ShipsCount (SHIPS_CruiserFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_CruiserFoundSomeSCs) = 7) )
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_Destroyers))
                        IF (FindEnemiesNearTeam (SHIPS_DestroyersL00kingForSCs, 15000))
                                ShipsSelectType (SHIPS_DestroyersFoundSomeSCs, SHIPS_DestroyersL00kingForSCs, "SalCapCorvette");
                                IF ( (ShipsCount (SHIPS_DestroyersFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_DestroyersFoundSomeSCs) = 7) )
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                        IF (FindEnemiesNearTeam (SHIPS_IonFrigL00kingForSCs, 15000))
                                ShipsSelectType (SHIPS_IonFrigFoundSomeSCs, SHIPS_IonFrigL00kingForSCs, "SalCapCorvette");
                                IF ( (ShipsCount (SHIPS_IonFrigFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_IonFrigFoundSomeSCs) = 7) )
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ENDIF
      ENDWATCH
  ENDSTATE AttackTraders 


        STATE DefendYourself 
            INIT
                    IF (ThisTeamIs (TEAM_Cruiser))
                            IF (ShipsSelectType (SHIPS_CruiserNearbyTargets, SHIPS_CruiserUnderAttack, "SalCapCorvette"))
                            ELSEIF (ShipsSelectType (SHIPS_CruiserNearbyTargets, SHIPS_CruiserFoundSomeSCs, "SalCapCorvette"))
                            ELSEIF (ShipsSelectClass (SHIPS_CruiserNearbyTargets, SHIPS_CruiserUnderAttack, "CLASS_Corvette"))
                            ELSEIF (ShipsSelectClass (SHIPS_CruiserNearbyTargets, SHIPS_CruiserUnderAttack, "CLASS_Frigate"))
                            ELSEIF (ShipsSelectClass (SHIPS_CruiserNearbyTargets, SHIPS_CruiserUnderAttack, "CLASS_Fighter"))
                            ELSE
                                    ShipsAdd (SHIPS_CruiserNearbyTargets, SHIPS_CruiserUnderAttack);
                            ENDIF

                            IF (ShipsCount (SHIPS_CruiserNearbyTargets) > 0)
                                    Attack (SHIPS_CruiserNearbyTargets);
                            ELSE
                                    Jump AttackPlayerMothership;
                            ENDIF
                    ELSEIF (ThisTeamIs (TEAM_Destroyers))
                            IF (ShipsSelectType (SHIPS_DestroyersNearbyTargets, SHIPS_DestroyersUnderAttack, "SalCapCorvette"))
                            ELSEIF (ShipsSelectType (SHIPS_DestroyersNearbyTargets, SHIPS_DestroyersFoundSomeSCs, "SalCapCorvette"))
                            ELSEIF (ShipsSelectClass (SHIPS_DestroyersNearbyTargets, SHIPS_DestroyersUnderAttack, "CLASS_Corvette"))
                            ELSEIF (ShipsSelectClass (SHIPS_DestroyersNearbyTargets, SHIPS_DestroyersUnderAttack, "CLASS_Frigate"))
                            ELSEIF (ShipsSelectClass (SHIPS_DestroyersNearbyTargets, SHIPS_DestroyersUnderAttack, "CLASS_Fighter"))
                            ELSE
                                    ShipsAdd (SHIPS_DestroyersNearbyTargets, SHIPS_DestroyersUnderAttack);
                            ENDIF

                            IF (ShipsCount (SHIPS_DestroyersNearbyTargets) > 0)
                                    Attack (SHIPS_DestroyersNearbyTargets);
                            ELSE
                                    Jump AttackPlayerMothership;
                            ENDIF
                    ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                            IF (ShipsSelectType (SHIPS_IonFrigNearbyTargets, SHIPS_IonFrigUnderAttack, "SalCapCorvette"))
                            ELSEIF (ShipsSelectType (SHIPS_IonFrigNearbyTargets, SHIPS_IonFrigFoundSomeSCs, "SalCapCorvette"))
                            ELSEIF (ShipsSelectClass (SHIPS_IonFrigNearbyTargets, SHIPS_IonFrigUnderAttack, "CLASS_Corvette"))
                            ELSEIF (ShipsSelectClass (SHIPS_IonFrigNearbyTargets, SHIPS_IonFrigUnderAttack, "CLASS_Frigate"))
                            ELSEIF (ShipsSelectClass (SHIPS_IonFrigNearbyTargets, SHIPS_IonFrigUnderAttack, "CLASS_Fighter"))
                            ELSE
                                    ShipsAdd (SHIPS_IonFrigNearbyTargets, SHIPS_IonFrigUnderAttack);
                            ENDIF

                            IF (ShipsCount (SHIPS_IonFrigNearbyTargets) > 0)
                                    Attack (SHIPS_IonFrigNearbyTargets);
                            ELSE
                                    Jump AttackPlayerMothership;
                            ENDIF
                    ENDIF
            ENDINIT
            WATCH
                    
                    IF (ThisTeamIs (TEAM_Cruiser))
                            IF ( (ShipsCount (SHIPS_CruiserNearbyTargets) = 0) OR (ShipsOrder (TEAMSHIPS_Cruiser) != 2) )
                                    Jump DefendYourself;
                            ENDIF
                    ELSEIF (ThisTeamIs (TEAM_Destroyers))
                            IF ( (ShipsCount (SHIPS_DestroyersNearbyTargets) = 0) OR (ShipsOrder (TEAMSHIPS_Destroyers) != 2) )
                                    Jump DefendYourself;
                            ENDIF
                    ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                            IF ( (ShipsCount (SHIPS_IonFrigNearbyTargets) = 0) OR (ShipsOrder (TEAMSHIPS_IonCannonFrigates) != 2) )
                                    Jump DefendYourself;
                            ENDIF
                    ENDIF

                    
                    IF (ThisTeamIs (TEAM_Cruiser))
                            IF (FindEnemiesNearTeam (SHIPS_CruiserL00kingForSCs, 15000))
                                    ShipsSelectType (SHIPS_CruiserFoundSomeSCs, SHIPS_CruiserL00kingForSCs, "SalCapCorvette");
                                    IF ( (ShipsCount (SHIPS_CruiserFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_CruiserFoundSomeSCs) = 7) )
                                            Jump DefendYourself;
                                    ENDIF
                            ENDIF
                    ELSEIF (ThisTeamIs (TEAM_Destroyers))
                            IF (FindEnemiesNearTeam (SHIPS_DestroyersL00kingForSCs, 15000))
                                    ShipsSelectType (SHIPS_DestroyersFoundSomeSCs, SHIPS_DestroyersL00kingForSCs, "SalCapCorvette");
                                    IF ( (ShipsCount (SHIPS_DestroyersFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_DestroyersFoundSomeSCs) = 7) )
                                            Jump DefendYourself;
                                    ENDIF
                            ENDIF
                    ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                            IF (FindEnemiesNearTeam (SHIPS_IonFrigL00kingForSCs, 15000))
                                    ShipsSelectType (SHIPS_IonFrigFoundSomeSCs, SHIPS_IonFrigL00kingForSCs, "SalCapCorvette");
                                    IF ( (ShipsCount (SHIPS_IonFrigFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_IonFrigFoundSomeSCs) = 7) )
                                            Jump DefendYourself;
                                    ENDIF
                            ENDIF
                    ENDIF
            ENDWATCH
        ENDSTATE DefendYourself 


  STATE AttackPlayerMothership 
      INIT
                MoveAttack (SHIPS_PlayerMothership);
      ENDINIT
      WATCH
                
                IF (ThisTeamIs (TEAM_Cruiser))
                        IF (UnderAttack (SHIPS_CruiserUnderAttack))
                                ShipsSelectClass (SHIPS_Mothership, SHIPS_CruiserUnderAttack, "CLASS_Mothership");       
                                ShipsRemove (SHIPS_CruiserUnderAttack, SHIPS_Mothership);                                
                                IF (ShipsCount (SHIPS_CruiserUnderAttack) > 0)
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_Destroyers))
                        IF (UnderAttack (SHIPS_DestroyersUnderAttack))
                                ShipsSelectClass (SHIPS_Mothership, SHIPS_DestroyersUnderAttack, "CLASS_Mothership");       
                                ShipsRemove (SHIPS_DestroyersUnderAttack, SHIPS_Mothership);                                
                                IF (ShipsCount (SHIPS_DestroyersUnderAttack) > 0)
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                        IF (UnderAttack (SHIPS_IonFrigUnderAttack))
                                ShipsSelectClass (SHIPS_Mothership, SHIPS_IonFrigUnderAttack, "CLASS_Mothership");       
                                ShipsRemove (SHIPS_IonFrigUnderAttack, SHIPS_Mothership);                                
                                IF (ShipsCount (SHIPS_IonFrigUnderAttack) > 0)
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ENDIF

                
                IF (ThisTeamIs (TEAM_Cruiser))
                        IF (FindEnemiesNearTeam (SHIPS_CruiserL00kingForSCs, 15000))
                                ShipsSelectType (SHIPS_CruiserFoundSomeSCs, SHIPS_CruiserL00kingForSCs, "SalCapCorvette");
                                IF ( (ShipsCount (SHIPS_CruiserFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_CruiserFoundSomeSCs) = 7) )
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_Destroyers))
                        IF (FindEnemiesNearTeam (SHIPS_DestroyersL00kingForSCs, 15000))
                                ShipsSelectType (SHIPS_DestroyersFoundSomeSCs, SHIPS_DestroyersL00kingForSCs, "SalCapCorvette");
                                IF ( (ShipsCount (SHIPS_DestroyersFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_DestroyersFoundSomeSCs) = 7) )
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ELSEIF (ThisTeamIs (TEAM_IonCannonFrigates))
                        IF (FindEnemiesNearTeam (SHIPS_IonFrigL00kingForSCs, 15000))
                                ShipsSelectType (SHIPS_IonFrigFoundSomeSCs, SHIPS_IonFrigL00kingForSCs, "SalCapCorvette");
                                IF ( (ShipsCount (SHIPS_IonFrigFoundSomeSCs) > 0) AND (ShipsOrder (SHIPS_IonFrigFoundSomeSCs) = 7) )
                                        Jump DefendYourself;
                                ENDIF
                        ENDIF
                ENDIF
      ENDWATCH
  ENDSTATE AttackPlayerMothership 


  STATE NullState 
      INIT
      ENDINIT
      WATCH
      ENDWATCH
  ENDSTATE NullState 


ENDFSM Cruiser








INIT


        
        
        

        FSMCreate (FleetIntel, TEAM_FleetIntel);                    

        



        
        
        


        



        
        SaveLevel (11, LSTRING_Savegame);


ENDINIT

WATCH

        
        
        

        IFONCE (TRUE)
                TimerCreateSetStart ("LocationCardTimer", 1);
        ENDIFONCE

        IF (TimerExpiredDestroy ("LocationCardTimer"))
                LocationCard (5000, LSTRING_LocationCard);
        ENDIF

        






        
        
        

        





        
        
        


        
        IFONCE (TRUE)
                TimerCreateSetStart ("G_FCHyperspaceSuccessful", 5);
        ENDIFONCE

        
        IFONCE (VarGet ("G_Nis7Complete") = TRUE)
                VarSet ("G_N07IsPlaying", FALSE);
                MusicPlay (15);
                TimerCreateSetStart ("CreateNISTeamsTimer", 1);
                TimerCreateSetStart ("G_FIDefendTraders", 4);
        ENDIFONCE

        
        IFONCE (VarGet ("G_Nis8Complete") = TRUE)
                VarSet ("G_N08IsPlaying", FALSE);
                UnhideShips(TEAMSHIPS_Traders);
                TimerCreateSetStart ("G_TradersTalk", 6);
        ENDIFONCE



        





        
        
        

        IFONCE (TimerExpiredDestroy ("CreateNISTeamsTimer"))
                FSMCreate (Traders, TEAM_Traders);
                FSMCreate (Cruiser, TEAM_Cruiser);
                
                
                

                
                FSMCreate (Cruiser, TEAM_Destroyers);
                
                FSMCreate (Cruiser, TEAM_IonCannonFrigates);
        ENDIFONCE

        




        
        
        


        
        IFONCE (VarGet ("G_FCDoneRasping") = TRUE)
                TimerCreateSetStart ("WideScreenInBeforeNIS", 4);
                wideScreenIn(90);                                   
                VarCreateSet("G_PlayedN07", TRUE);
        ENDIFONCE

        
        IF (TimerExpiredDestroy("WideScreenInBeforeNIS"))
                VarCreateSet ("G_PlayNis", 7);
                VarCreateSet ("G_N07IsPlaying", TRUE);
                
        ENDIF































        
        
        

        IFONCE (VarGet ("G_CreateObjectiveNow") = TRUE)
                IF (RaceOfHuman () = 0)                             
                        ObjectiveCreate ("DestroyFleet", LSTRING_FIDestroyTaiidanTASKBAR, LSTRING_FIDestroyTaiidanTASKBAR);
                ELSEIF (RaceOfHuman () = 1)                         
                        ObjectiveCreate ("DestroyFleet", LSTRING_FIDestroyKushanTASKBAR, LSTRING_FIDestroyKushanTASKBAR);
                ENDIF
        ENDIFONCE

        
        IF (VarGet ("G_Nis7Complete") = TRUE)
                IFONCE ( (ShipsCount (TEAMSHIPS_Cruiser) = 0) AND
                         (ShipsCount (TEAMSHIPS_Destroyers) = 0) AND
                         (ShipsCount (TEAMSHIPS_IonCannonFrigates) = 0) )
                        ObjectiveSet ("DestroyFleet", TRUE);
                        MusicStop (4);
                ENDIFONCE
        ENDIF

        
        IF (VarGet ("G_MissionComplete") =TRUE)
                ObjectiveCreate ("Hyperspace", LSTRING_Hyperspace, LSTRING_Hyperspace);
        ENDIF


        
        IF (VarGet ("G_Nis7Complete") = TRUE)
                IFONCE (ShipsCount (TEAMSHIPS_Traders) = 0)
                        MissionFailed ();
                ENDIFONCE
        ENDIF

        










        
        
        

        
        FindEnemiesInside (VOLUME_WorldSphere, SHIPS_Everyone, 3000);
        ShipsSelectClass (SHIPS_PlayerMothership, SHIPS_Everyone, "CLASS_Mothership");        
        VarCreateSet ("EveryoneSHIPS", ShipsCount (SHIPS_Everyone));
        VarCreateSet ("MothershipSHIPS", ShipsCount (SHIPS_PlayerMothership));

        







        
        
        


        IFONCE (TRUE)
                TimerCreateSetStart ("G_PlayTechEvent", Random (95, 105));
        ENDIFONCE

        
        
        IFONCE ( (NOT TechGet ("RepairTech")) AND (TimerExpiredDestroy ("G_PlayTechEvent")) )
                TechSetResearch ("RepairTech");
                VarCreateSet ("G_GivePlayerSuperHeavy", TRUE);
        ENDIFONCE




        
        
        IFONCE (TechGet ("MassDrive10Kt"))
                TechSetResearch ("Chassis2");
        ENDIFONCE

        
        IF ((TechGet ("Chassis2")) AND (VarGet ("SetMediumGuns") = FALSE))
                TechSetResearch ("MediumGuns");
                VarCreateSet ("SetMediumGuns", TRUE);
        ENDIF

        
        
        IFONCE (TechGet ("Chassis1"))
                TechSetResearch ("MassDrive10Kt");
        ENDIFONCE

        




ENDWATCH

#line 1 "C:\\Users\\Coldboy\\CLionProjects\\homeworld_cmake\\src\\Game\\Attributes.h"









































#line 43 "C:\\Users\\Coldboy\\CLionProjects\\homeworld_cmake\\src\\Game\\Attributes.h"

